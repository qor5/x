syntax = "proto3";

package status.v1;

import "google/protobuf/any.proto";
import "google/rpc/error_details.proto";

// Status represents a complete error status with localization and field violations
message Status {
  google.rpc.ErrorInfo error_info = 1;          // Business error information (official gRPC standard)
  Localized localized = 2;                      // Top-level localization 
  repeated FieldViolation field_violations = 3; // Field-level violations
}

// Localized contains internationalization information
message Localized {
  string key = 1;                               // Localization key
  repeated google.protobuf.Any args = 2;       // Template arguments for gotpl
}

// FieldViolation represents a field-level validation violation with localization
message FieldViolation {
  string field = 1;        // Field name (e.g., "email", "user.email", "profile.age")
  string description = 2;  // Error description for BadRequest_FieldViolation
  string reason = 3;       // Error reason code (UPPER_SNAKE_CASE format)
  Localized localized = 4; // Field-specific localization information
}
